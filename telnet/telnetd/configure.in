AC_INIT(telnetd.c)
WITH_CCOPTS
WITH_KRB5ROOT
ISODE_DEFS
ISODE_INCLUDE
CONFIG_RULES
AC_SET_BUILDTOP
AC_PROG_INSTALL
KRB_INCLUDE
ISODE_INCLUDE
AC_HAVE_LIBRARY(termcap,AC_DEFINE(TERMCAP)
LIBS="$LIBS -ltermcap")
AC_HEADER_CHECK(termios.h,AC_DEFINE(USE_TERMIO) ac_termio=1)
if test -z "$ac_termio"; then
AC_HEADER_CHECK(termio.h,AC_DEFINE(SYSV_TERMIO),ac_sysv_termio=1)
if test -z "$ac_sysv_termio"; then
AC_COMPILE_CHECK([cc_t],[#include <termio.h>],
[cc_t foo;],,AC_DEFINE(NO_CC_T))
fi
fi
AC_FUNC_CHECK(grantpt,AC_DEFINE(STREAMSPTY))
AC_FUNC_CHECK(gettosbyname,AC_DEFINE(HAS_GETTOS))
AC_HEADER_CHECK(sys/filio.h,AC_DEFINE(FILIO_H))
AC_HEADER_CHECK(sys/stream.h,AC_DEFINE(STREAMS))
AC_HEADER_CHECK(utmpx.h,AC_DEFINE(UTMPX))
AC_FUNC_CHECK(cgetent,AC_DEFINE(HAS_CGETENT))
AC_OUTPUT(Makefile,[EXTRA_RULES])
